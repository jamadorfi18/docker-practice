# Docker configuration

This project is a simple react base project wrapped with docker

## Usage

Generate docker image for development

```bash
$ docker build -f Dockerfile.dev . -t test/react-docker
```

Run the dev enviroment
```bash
$ docker run -p 3000:3000 test/react-docker
```

When you run the project all files will copied into the container, but when we do any modifications docker won't detect it, so a way to solve this issue is to use: <b>Volumes</b>

To assign volumes in our container we need to add more params when running our image

```bash
$ docker run -p 3000:3000 -v /app/node_modules -v $(pwd):/app test/react-docker
```

As we can see, there are two params with <b>v</b> flag, the first param means avoid to make reference from the container to our local node_modules folder, this is because we don't need autogenerated files to be referenced.

The second param means the current directoy will be referenced to our container, so every changes that is made in the files from our local machine, react will detect it and will refresh it.

That's the magic of <b>volumes</b>!

## docker-compose

This tool help us to handle the extra param when running images, there is a simple example to do the same as before with volumes, all we need to do is to be in the project directoy and execute:

```bash
$ docker-compose up -d
```

All configuration for ports and volumes is in the docker-compose.yml, amazing! isn't it?


## multiple steps for production
There is a file Dockerfile wich have two images, nginx and node, where node will be in charge to build the production code from our project, and nginx will be the server that serves our application.

